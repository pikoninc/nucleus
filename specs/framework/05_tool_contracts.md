# 05 Tool Contracts

Tools are the **only** side-effect boundary in Nucleus.

## Requirements
- **Deterministic**: same inputs â†’ same outputs (within declared environment constraints).
- **Explicit**: tool IDs are registered; plans refer to tools by `tool_id`.
- **Validated**: tool calls are validated against contracts and policy.
- **No arbitrary shell**: tools must not execute arbitrary commands generated by AI.

## Safety metadata
Tool definitions include safety flags used by policy, such as:
- `side_effects`: none | filesystem | notification | app | network | unknown
- `destructive`: true/false (must be denied by default)
- `supports_dry_run`: true/false

## Dry-run
Dry-run must be supported as a first-class mode:
- Tools that support it return `expected_effects` without applying changes.
- Tools that do not support it must fail clearly (and be denied in strict dry-run mode).

